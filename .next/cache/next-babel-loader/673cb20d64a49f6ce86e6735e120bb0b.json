{"ast":null,"code":"var _jsxFileName = \"E:\\\\ORGANIZER\\\\side_proj\\\\Tempus\\\\pages\\\\login.jsx\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Navbar from '../components/Navbar';\nimport utilStyles from '../styles/utils.module.scss';\nimport React, { useState } from 'react';\nimport Router from 'next/router';\nimport cookie from 'js-cookie';\n\nconst Login = () => {\n  const {\n    0: loginError,\n    1: setLoginError\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault(); //call api\n\n    fetch('/api/auth', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(r => {\n      return r.json();\n    }).then(data => {\n      if (data && data.error) {\n        setLoginError(data.message);\n      }\n\n      if (data && data.token) {\n        //set cookie\n        cookie.set('token', data.token, {\n          expires: 2\n        });\n        Router.push('/');\n      }\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Log In\")), __jsx(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), __jsx(\"section\", {\n    className: \"hero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }\n  }, __jsx(\"div\", {\n    className: \"text-wrapper w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 8\n    }\n  }, __jsx(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 10\n    }\n  }, \"Log In\"))), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Email\", __jsx(\"input\", {\n    name: \"email\",\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  })), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Password\", __jsx(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 6\n    }\n  })), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), loginError && __jsx(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 22\n    }\n  }, loginError))));\n};\n\nexport default Login;","map":{"version":3,"sources":["E:/ORGANIZER/side_proj/Tempus/pages/login.jsx"],"names":["Head","Navbar","utilStyles","React","useState","Router","cookie","Login","loginError","setLoginError","email","setEmail","password","setPassword","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","json","data","error","message","token","set","expires","push","target","value","color"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport Navbar from '../components/Navbar';\r\nimport utilStyles from '../styles/utils.module.scss'\r\nimport React, {useState} from 'react';\r\nimport Router from 'next/router';\r\nimport cookie from 'js-cookie';\r\n\r\nconst Login = () => {\r\n  const [loginError, setLoginError] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\nfunction handleSubmit(e) {\r\n  e.preventDefault();\r\n  //call api\r\n  fetch('/api/auth', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    }),\r\n  })\r\n    .then((r) => {\r\n      return r.json();\r\n    })\r\n    .then((data) => {\r\n      if (data && data.error) {\r\n        setLoginError(data.message);\r\n      }\r\n      if (data && data.token) {\r\n        //set cookie\r\n        cookie.set('token', data.token, {expires: 2});\r\n        Router.push('/');\r\n      }\r\n    });\r\n}\r\n    return (\r\n      <>\r\n      <Head>\r\n        <title>Log In</title>\r\n      </Head>\r\n\r\n      <Navbar />\r\n\r\n      <section className=\"hero\">\r\n\t\t\t  <div className=\"container\">\r\n\t\t\t    <div className=\"text-wrapper w-full\">\r\n\t\t\t      <h1 className=\"title\">Log In</h1>\r\n\t\t      </div>\r\n\t      </div>\r\n\t\r\n      <form onSubmit={handleSubmit}>\r\n      <label htmlFor=\"email\">\r\n        Email\r\n      <input\r\n        name=\"email\"\r\n        type=\"email\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n      />\r\n      </label>\r\n\r\n      <br/>\r\n      \r\n      <label htmlFor=\"Password\">\r\n        Password\r\n     <input\r\n        name=\"password\"\r\n        type=\"password\"\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n       </label>\r\n\r\n      <input type=\"submit\" value=\"Submit\" />\r\n      {loginError && <p style={{color: 'red'}}>{loginError}</p>}\r\n    </form>\r\n    </section>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n    \r\n  "]},"metadata":{},"sourceType":"module"}